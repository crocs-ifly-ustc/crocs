<!DOCTYPE HTML>
<!--
	Arcana by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>ICDAR 2024 Competition on Handwritten Chemical Structure Image Recognition in Educational Scenario-Data</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
	</head>
	<body class="is-preload">
		<div id="page-wrapper">

			<!-- Header -->
				<div id="header">

					<!-- Logo -->
					<!-- <img src="images/isca.png" width="6%" height="6%" style="margin:0 77% 0 0;"> -->
					<!-- <h1 style="font-size: 120%;  margin: -4% 0 -2% 0"><a href="index.html" id="logo">Multimodal Information
							Based Speech Processing (MISP) Challenge 2023</a></h1> -->
					<h1 style="font-size: 120%;  margin: -1% 0% -1% 0%;"><a href="index.html" id="logo">ICDAR 2024 Competition on Recognition of Chemical Structures</a></h1> 	
					<img src="images/ICDAR-Logo.png" width="12%"height="12%" style="float:right; position:relative; top:-120px; left:-20px">

					<!-- Nav -->
						<nav id="nav">
							<ul>
								<li><a href="index.html">Home</a></li>
								<li><a href="overview.html">Overview</a></li>
								<li class="current"><a href="data.html">Data</a></li>
								<li>
									<a href="#">Task</a>
									<ul>
										<li><a href="task1_instructions.html">Instructions</a></li>										
										<li><a href="task1_software.html">Baseline</a></li>
						                <li><a href="task1_submission.html">Submission</a></li>
									</ul>
								</li>
								<!-- <li>
									<a href="#">Task3</a>
									<ul>
										<li><a href="task3_instructions.html">Instructions</a></li>
										<li><a href="task3_data.html">Data</a></li>
										<li><a href="task3_software.html">Software</a></li>
										<li><a href="task3_submission.html">Submission</a></li>
									</ul>
								</li> -->
								<li><a href="download.html">Registration</a></li>
								
								<!-- <li><a href="results.html">Results</a></li> -->
								<!-- <li><a href="contact.html">Contact</a></li> -->
							</ul>
						</nav>

				</div>

			<!-- Main -->
				<section class="wrapper style1">
					<div class="container">
						<h1 style="font-size: 150%;">Dataset Description</h1>
						<p>The proposed handwritten dataset is named <strong>EDU-CHEMC</strong> and it consists of 60,974 handwritten molecular structure images collected in educational scenarios. These images were obtained using various devices such as cameras, scanners, and screens. The key characteristics of this dataset are as follows:</p>
						<!-- <p></br></p> -->
						<h3 style="font-size: 120%;">Real-world Educational Scenarios</h3>
						<p>The dataset includes handwritten molecular structures from primary and secondary education scenarios, which, to our knowledge, have never been made publicly available before. Additionally, a small proportion of the data comprises people copying and photographing <a href="https://www.ebi.ac.uk/chembl/">ChEMBL</a> molecular structures, also under real settings.</p>

						<h3 style="font-size: 120%;">Combination of Molecular Structures and Formulas</h3>
						<p>In addition to isolated molecular structures, the dataset also includes instances where formulas are combined with molecular structures. This is demonstrated by organic reaction equations, as shown in Figure 1.</p>
						<center>
							<figure style="padding:0px;border:0px; margin:0px">
							<img src="images/proposal_figure_3.png" alt="Schematic Diagram" style="width:70%;padding:0px;border:0" />
							<figcaption><strong>Fig.1</strong>  Examples of images that contain mixture of molecular structures and regular formulas in our handwritten dataset.</figcaption>
							</figure>
						</center>
						<br>

						<h3 style="font-size: 120%;">Diversity in Writing Styles</h3>
						<p>The dataset exhibits a variety of handwriting styles, encompassing variations in the utilization of abbreviations, Kekulé ring notations for benzene, as well as the presence or absence of hydrogen atoms. Notably, it also comprises instances of erroneous or nonexistent structures that violate chemical principles, as demonstrated in Figure 2, thereby emphasizing its potential application in educational correction and revision.</p>
						<center>
							<figure style="padding:0px;border:0px; margin:0px">
							<img src="images/proposal_figure_4.png" alt="Schematic Diagram" style="width:70%;padding:0px;border:0" />
							<figcaption><strong>Fig.2</strong>  Examples of images that encounter chemical errors in our handwritten dataset are shown in both (a) and (b). In these images, the chemical bond connections of the carbon atoms indicated by the red circle violate the valence principle.</figcaption>
							</figure>
						</center>
						<br>

						<h3 style="font-size: 120%;">Complex Molecular Structures</h3>
						<p>The complexity of molecular structures in the dataset is quantified by the total number of atoms and bonds. Approximately 10% of the testing set comprises structures with a complexity level exceeding the most intricate examples in the training set, as illustrated in Figure 3.</p>
						<center>
							<figure style="padding:0px;border:0px; margin:0px">
							<img src="images/proposal_figure_5.png" alt="Schematic Diagram" style="width:65%;padding:0px;border:0" />
							<figcaption><strong>Fig.3</strong>  Complexity histogram of our handwritten dataset. It is evident from the histogram that our testing set comprises samples with complexity levels that have not been observed in the training set.</figcaption>
							</figure>
						</center>
						<br>

						<p>The data partitions of the EDU-CHEMC dataset are outlined as follows:</p>
						<center>
							<figure style="padding:0px;border:0px; margin:0px">
							<img src="images/proposal_table_1.png" alt="Schematic Diagram" style="width:50%;padding:0px;border:0" />
							</figure>
						</center>
						<h1 style="font-size: 150%;">Annotation</h1>
						<p>The training set includes an annotation json file for each image, sharing the same filename. Each file consists of three components:</p>
						<ul>
							<li><strong>chemfig</strong></li>
							<p>A raw, human-annotated Chemfig string that can be rendered with texlive using the chemfig package. Note that this string is purely for reference.</p>
							<li><strong>ssml_normed</strong></li>
							<p>A normed version of the Chemfig string, removing complex syntax and retaining only basic rules for ease of program parsing and readability. <strong>Participants must submit results in this format</strong>, and it is the only one supported by the Parsing Tool and Graph Matching Tool.</p>
							<li><strong>ssml_sd</strong></li>
							<p>The training target of our <a href="https://crocs-ifly-ustc.github.io/crocs/task1_software.html">baseline</a>. Compared to "ssml_normed", bond unit angles are quantified with step of 15 degree, while bond lengths are omitted as most are equal to 1. It's directly applicable to sequence-to-sequence model training. For additional information, refer to <a href="https://dl.acm.org/doi/10.1145/3581783.3612573">this paper</a>.</p>
						</ul>

						<h1 style="font-size: 150%;">Guidance for SSML-Normed</h1>
						<p>Here are some guidelines for SSML-Normed.</p>
						<center>
							<figure style="padding:0px;border:0px; margin:0px">
							<img src="images/ssml_figure1.png" alt="Schematic Diagram" style="width:40%;padding:0px;border:0" />
							<figcaption><strong>Fig.4</strong> A chemical structure represented by the ssml-normed string "\chemfig { ?[a] =[:60.0,1.0] -[:0.0,1.0] =[:300.0,1.0] branch( -[:0.0,1.0] C branch( -[:0.0,1.0] O -[:0.0,1.0] ?[b] branch( -[:60.0,1.0] =[:0.0,1.0] -[:300.0,1.0] =[:240.0,1.0] -[:180.0,1.0] ?[b,{=}] branch) branch) =[:90.0,1.0] O branch) -[:240.0,1.0] branch( -[:280.0,1.0] O H branch) =[:180.0,1.0] ?[a,{-}] }".</figcaption>
							</figure>
						</center>
						<br>

						<p>The ssml-normed string comprises four primary units: "Atom", "‘Bond", "Branch", and "Reconnection". Consider a chemical structure as a graph, where atoms signify nodes and bonds represent edges. Two atoms can connect via a bond, thus a chemical graph is essentially made up of atoms and bonds.</p>
						<p>To derive an ssml-normed string from a chemical graph, follow these steps:</p>
						<ul>
							<li>Traverse the entire graph using depth-first search (DFS) and record the atoms and bonds in the order they were traversed.</li>
							<li>Convert each atom or bond into string tokens. The rules will be discussed later.</li>
							<li>Include branch tokens during traversing to represent multiple branches from an atom.</li>
							<li>Incorporate reconnection marks to indicate reconnection bonds. The concept of reconnection will be clarified later.</li>
							<li>After completing the traversal, concatenate all tokens to form the ssml-normed string.</li>
						</ul>



						<h3 style="font-size: 120%;">Atom</h3>
						<p>Atoms appear at two endpoints of each bond. In an image, an atom's content may include several characters (like "OH", "C" in Figure 4) or no characters (like the atom on a benzene ring). Figure 5 gives an example of all atoms in a chemical structure image.</p>
						<center>
							<figure style="padding:0px;border:0px; margin:0px">
							<img src="images/ssml_figure2.png" alt="Schematic Diagram" style="width:40%;padding:0px;border:0" />
							<figcaption><strong>Fig.5</strong> A chemical structure image showcasing all atoms, highlighted with red circles.</figcaption>
							</figure>
						</center>
						<br>
						<p>To format an atom to string tokens, simply append all its characters to the output sequence. If the atom's content includes formulas, format it according to latex rules, such as "C H _ { 2 }". See Figure 6 for more examples of atom formatted results.</p>
						<center>
							<figure style="padding:0px;border:0px; margin:0px">
							<img src="images/ssml_figure3.png" alt="Schematic Diagram" style="width:40%;padding:0px;border:0" />
							<figcaption><strong>Fig.6</strong> Formatted results of atoms whose contents contain formulas.</figcaption>
							</figure>
						</center>
						
						<h3 style="font-size: 120%;">Bond</h3>
						<p>Bonds are chemical bonds in an image. They should be formatted according to chemfig syntax rules in one of the following ways:</p>
						<p><strong>&lt;bond_type&gt;[:&lt;angle&gt;,&lt;length&gt;]</strong></p>
						<p><strong>&lt;bond_type&gt;[:&lt;angle&gt;]</strong></p>
						<p>Note that a bond is always formatted into one string token.</p>
						<p><strong>&lt;bond_type&gt;</strong>: Nine types are depicted in Figure 7.</p>
						<center>
							<figure style="padding:0px;border:0px; margin:0px">
							<img src="images/ssml_figure4.png" alt="Schematic Diagram" style="width:40%;padding:0px;border:0" />
							<figcaption><strong>Fig.7</strong> Types of bonds.</figcaption>
							</figure>
						</center>
						<br>
						<p><strong>&lt;angle&gt;</strong>: When two atoms A and B are connected by a bond C, and formatted in the order "A", "C", "B", the angle of bond C refers to the angle of a directed line segment from point A to B in a polar coordinate system. Angles increase counterclockwise and are relative to the horizontal.</p>
						<center>
							<figure style="padding:0px;border:0px; margin:0px">
							<img src="images/ssml_figure5.png" alt="Schematic Diagram" style="width:30%;padding:0px;border:0" />
							<figcaption><strong>Fig.8</strong> Angle Definition for Bonds.</figcaption>
							</figure>
						</center>
						<br>
						<p><strong>&lt;length&gt;</strong>: This is the relative bond length. The default value is 1. Generally, all bonds in a chemical structure have the same length so we can set all bond’s relative length to 1. But if some bonds are noticeably shorter or longer, you can set their length to a value larger or smaller than 1 to maintain the correct structure.</p>

						<h3 style="font-size: 120%;">Branch</h3>
						<p>Branches occur during a DFS traversal of a graph when there's more than one unvisited bond attached to an atom, which can be chosen as next element to continue traversal. Each candidate bond represents a branch. Once a candidate bond is chosen,begin a branch with the special token "branch(" and format the chosen bond. Tokens following it are within the branch until no more bonds can be chosen. The branch ends with the token "branch)". If a visiting atom has N branches, only the content of the first N-1 branches being explored should be placed within a pair of branch tokens. It is optional whether the content of last branch being explored should be placed within branch tokens.</p>
						<p>Figure 9 illustrates branch syntax rules. Here, Atom "C" has 3 branches explored in the order of branch1, branch3, and branch2. The ssml-normed string is displayed at the bottom.</p>
						<center>
							<figure style="padding:0px;border:0px; margin:0px">
							<img src="images/ssml_figure6.png" alt="Schematic Diagram" style="width:55%;padding:0px;border:0" />
							<figcaption><strong>Fig.9</strong> An example of branch syntax rules.</figcaption>
							</figure>
						</center>

						<h3 style="font-size: 120%;">Reconnection</h3>
						<p>Reconnection occurs during traversal when a currently visiting atom A is connected to a previously visited atom B at more than two timesteps before by a bond C. We define that there is a reconnection between atom A and atom B. Since atom B can not be visited twice, we use reconnection marks to represent the connection relationship between atom A and B instead of appending "A", "C", and "B" to the output sequence. </p>
						<p>Reconnection marks are:</p>
						<p>Reconnection start: <strong>?[&lt;name&gt;]</strong></p>
						<p>Reconnection end: <strong>?[&lt;name&gt;,{&lt;bond_type&gt;}]</strong></p>
						<p>&lt;name&gt; is a short string of English letters, while &lt;bond_type&gt;  indicates the bond connecting the atoms (see Figure 7). Reconnection marks are attached to atoms. A reconnection mark is placed after the tokens of a certain atom in the output sequence. Two atoms with same &lt;name&gt; are considered to reconnect with each other through a bond of type &lt;bond_type&gt;.</p>
						<p>When reconnecting atom A and B, designate one as the start and the other as the end. The end marks must contain &lt;bond_type&gt; while the start cannot. An atom can be attached with multiple reconnection end marks but at most one reconnection start marks. It is recommended to choose the first visited one to be the reconnection start.</p>
						<p>For directed bond types such as "&lt;", "&gt;", the reconnection bond's correct direction is from reconnection start atom to reconnection end atom. For example, "B ?[a]" and "A ?[a, {>}]" equals to "B >[:<angle>] A" in non-reconnection cases. Figure 10 provides a visual example.</p>
						
						<center>
							<figure style="padding:0px;border:0px; margin:0px">
							<img src="images/ssml_figure7.png" alt="Schematic Diagram" style="width:30%;padding:0px;border:0" />
							<figcaption><strong>Fig.10</strong> An example of reconnection for directed bond.</figcaption>
							</figure>
						</center>

						<h3 style="font-size: 120%;">Special Tokens</h3>
						<p><strong>\circle</strong></p>
						<p>We use "\circle" to denote the special atom (circle) in benzene. To indicate the connection between the circle and an arbitrary atom on the ring, we utilize a virtual bond with the type "-:". During submission, you only need to randomly select one atom on the ring to connect with the circle atom, as our graph matching tool will normalize this case.</p>
						<center>
							<figure style="padding:0px;border:0px; margin:0px">
							<img src="images/ssml_figure8.png" alt="Schematic Diagram" style="width:40%;padding:0px;border:0" />
							<figcaption><strong>Fig.11</strong> An example of \circle.</figcaption>
							</figure>
						</center>
						<p><strong>\Chemabove</strong></p>
						<p>"\Chemabove { a } { b }" means character "b" is positioned above the character "a". This syntax is commonly used to format some special atoms such as "NH", Refer to Figure 12 for an example.</p>
						<center>
							<figure style="padding:0px;border:0px; margin:0px">
							<img src="images/ssml_figure9.png" alt="Schematic Diagram" style="width:30%;padding:0px;border:0" />
							<figcaption><strong>Fig.12</strong> An example of \Chemabove.</figcaption>
							</figure>
						</center>

					</div>
					
				</section>

			<!-- Gigantic Heading -->

			<!-- Footer -->
				<div id="footer">
					<!-- Copyright -->

					<ul class="icons">
						<!-- <li><a href="#" class="icon brands fa-twitter"><span class="label">Twitter</span></a></li>
						<li><a href="#" class="icon brands fa-facebook-f"><span class="label">Facebook</span></a></li>
						<li><a href="#" class="icon brands fa-github"><span class="label">GitHub</span></a></li>
						<li><a href="#" class="icon brands fa-linkedin-in"><span class="label">LinkedIn</span></a></li> -->
						<li><a href="https://forms.gle/h9WE7G2Vzm7xmzHv7" class="icon brands fa-google-plus-g"><span class="label">Google+</span></a></li>
					</ul>

						<div class="copyright">
							<ul class="menu">
								<li>&copy; All rights reserved</li><li>E-mail: crocs.ifly.ustc@outlook.com</li>
							</ul>
						</div>

				</div>

		</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.dropotron.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>
